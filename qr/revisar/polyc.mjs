/**
 *  Generador polinomial
 */

let antilog=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76, 152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,1]
function convEnt(val){return antilog[val]}

function getStep(g0,g1){
    let array=[];
    for (let i=0;i<g0.length; i++){
        for (let j=0;j<g1.length; j++){

            let value= g0[i]+g1[j]<255? g0[i]+g1[j] : g0[i]+g1[j]-255;
            let index=i+j;

            if (array[index] == undefined){
                array[index]= value;
            }
            else{
                const lval=convEnt(array[index])^convEnt(value)
                array[index]= antilog.indexOf(lval);
            }
        }
    }
    return array;
}


/*
let g1= [0,0]
let g2= getStep(g1,[0,1])
let g3= getStep(g2,[0,2])
let g4= getStep(g3,[0,3])
*/

function getPoly(n){
    if (n===1){
        return [0,0]
    }
    else{
        return getStep((getPoly(n-1)),[0,n-1]);
    }
}

export default getPoly;
